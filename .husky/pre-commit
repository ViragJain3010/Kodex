# Colors
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
RED='\033[0;31m'
BOLD='\033[1m'
NC='\033[0m' # No Color
PURPLE='\033[0;35m'

echo ""
echo "${BOLD}----->  Running a quick check to see if the code is good to go? ğŸš€${NC}"
echo ""
echo "âš ï¸  ${YELLOW}${BOLD}Task: ${YELLOW} Running lint checks...${NC}"
echo ""

pnpm lint-staged || LINT_FAILED=$?

if [ -z "$LINT_FAILED" ]; then
  echo ""
  echo "${GREEN}âœ… Response: All staged files have proper linting ğŸ˜.${NC}"
  echo ""
  exit 0
else
  echo ""
  echo "${RED}âŒ ${BOLD}Response: ${RED}Looks like the code isn't linted ğŸ«£${NC}"
  echo "${PURPLE}ğŸ’ ${BOLD}Tip: ${PURPLE}Run ${BOLD}'pnpm lint'${PURPLE} to try auto-fixing the errors.${NC}"
  echo ""
  exit $LINT_FAILED
fi

# Random Dev Wisdom
RANDOM_QUOTES="\
Writing tests is like doubting your ability to code. â˜ ï¸
Only Legends say - It works on my machine ğŸª¦
Real devs push to main and pray. ğŸ™
Fast, good, cheap: pick any two. âš–ï¸
Nothing is as permanent as a temporary solution that works. âš¡
Programming is the art of adding bugs to an empty text file. ğŸ
If one programmer can do it in one week, then 2 programmers can do it in 2 weeks. ğŸ’‘
Just Imagine if I changed your theme to light mode. â˜€ï¸"

# Convert multi-line string to arguments
IFS='
'
set -- $RANDOM_QUOTES

# Get current time in seconds to simulate a random number
now=$(date +%s)
count=$#
index=$(expr $now % $count + 1)

# Print the chosen quote
i=1
for line; do
  if [ "$i" -eq "$index" ]; then
    echo "${PURPLE}ğŸ’¬  Dev Wisdom: ${BOLD}$line${NC}"
    break
  fi
  i=$((i + 1))
done

echo ""
